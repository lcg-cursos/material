<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Python II y GitHub</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/hygge.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Python II y GitHub
### Licenciatura en Ciencias Gen√≥micas, UNAM
### First version: 2021-08-13; Last update: 2025-09-02

---




&lt;style type="text/css"&gt;
/* From https://github.com/yihui/xaringan/issues/147  */
.scroll-output {
  height: 80%;
  overflow-y: scroll;
}
/* https://stackoverflow.com/questions/50919104/horizontally-scrollable-output-on-xaringan-slides */
pre {
  max-width: 100%;
  overflow-x: scroll;
}
&lt;/style&gt;



## Contenido

1. Buenas pr√°cticas para el desarrollo de software colaborativo 

2. [Especificar versiones en Git con tag](./leccion1-etiquetas/1-Etiquetas.html)  

3. **[Trabajar con ramas en Git: git branch](./leccion2-ramas/2-Ramas.html)**  

4. [Manejo de issues en GitHub](./leccion3-issues/3-issues.html)  

5. [Gesti√≥n de un proyecto con GitHub](../leccion4-project/4-project.html)  

---

# Trabajar con ramas en Git

## Objetivo
Al finalizar la lecci√≥n, podremos trabajar con ramas en Git. Conoceremos c√≥mo crear ramas dentro de nuestro repositorio, nos movernos entre distintas ramas, podremos fusionarlas, as√≠ como trabajar con ramas de repositorios remotos.



&lt;img src="img/branches.png" width="500px" style="display: block; margin: auto;" /&gt;

---

### Antes de ir a las ramas üå≥ ...  

üìñ *Libro ‚Äì Cap√≠tulos alternativos*

Un escritor tiene un manuscrito (master branch). En lugar de modificar directamente ese texto, crea una copia para probar un cap√≠tulo con un final alternativo.  
üëâ Las ramas permiten trabajar en paralelo en diferentes versiones de la historia, y luego decidir cu√°l integrar al libro final.  


üõ†Ô∏è * Construcci√≥n ‚Äì Planos de remodelaci√≥n*

Tenemos la casa original (main branch). Un arquitecto hace una copia de los planos para dise√±ar una remodelaci√≥n (nueva branch).  
Si el dise√±o nos gusta, se integra al plano original; si no, se descarta sin afectar la casa existente.  

üéº *M√∫sica ‚Äì Versiones de una canci√≥n*

Un m√∫sico compone una melod√≠a principal (master branch). Despu√©s crea una versi√≥n ac√∫stica, otra con bater√≠a, y otra en remix.  
üëâ Cada versi√≥n es una branch: comparten la base pero exploran direcciones diferentes, y en cualquier momento puede decidirse cu√°l publicar o combinarlas.  

---
## Introducci√≥n
Imaginemos que estamos trabajando en nuestro proyecto de clase y queremos implementar una nueva funcionalidad en la que sabemos que quiz√°s tengamos que invertir varios d√≠as. 

Posiblemente sea algo experimental, que no sabemos si llegar√° a incorporarse a nuestro proyecto global, o bien, es algo que tenemos claro que vamos a querer completar, pero que, dado que necesitaremos un tiempo indeterminado, es posible que en medio de nuestro trabajo tengamos que tocar el c√≥digo "base/principal", en el estado en que lo tenemos en funcionamiento actualmente.

&lt;img src="img/twoBranches.png" width="400px" style="display: block; margin: auto;" /&gt;

---

## Introducci√≥n

Durante este proceso quisieramos que el c√≥digo base/principal no se vea afectado por cambios o c√≥digo inestable. 

¬øPara qu√© nos ayudan las ramas (branches)?

- A√±adir una nueva funci√≥n
- Solucionar un error
- Trabajar de manera paralela
- Controlar que c√≥digo dudoso se fusione con el c√≥digo principal 


&lt;img src="img/branchesOctopus.jpeg" width="450px" style="display: block; margin: auto;" /&gt;

---

## Ramas (Branches) üå≥

Las ramas son caminos que puede tomar el desarrollo de un software, algo que ocurre naturalmente para resolver problemas o crear nuevas funcionalidades.

Una rama representa una l√≠nea independiente de desarrollo.

&lt;img src="img/branchesColab.png" width="350px" style="display: block; margin: auto;" /&gt;

Pensemos en las ramas como un forma de solicitar un nuevo directorio de trabajo, un nuevo entorno de desarrollo o un nuevo historial de proyecto. Los nuevos commits  se registrar√°n en el historial de la rama actual, lo que crea una bifurcaci√≥n en el historial del proyecto.

---

## üìå Idea central

Las branches en Git/GitHub son como l√≠neas de tiempo paralelas del proyecto.

- Sirven para experimentar sin riesgo.

- Permiten que varias personas trabajen en diferentes partes a la vez.

- Luego, los cambios se pueden fusionar (merge) a la rama principal.


---
## La rama "master" o "main"

Cuando inicializamos un proyecto con Git autom√°ticamente nos encontramos en una rama a la que se denomina *master* o *main*.

Esta rama es la principal de nuestro proyecto y a partir de la que podremos crear nuevas ramas cuando lo necesitemos.


---
## Listando las ramas existentes en mi repositorio

El comando _git branch_ nos permite crear, listar y eliminar ramas, as√≠ como cambiar su nombre.

Para obtener el listado de las ramas que se encuentran creadas en mi repositorio local usaremos:

Sintaxis:  

.full-width[.content-box-yellow[git branch]]

Resultado:  

.full-width[.content-box-yellow[$ git branch &lt;br&gt;
\* master
]]


---

## Pr√°ctica

1. Abrir una terminal  
--

2. Localizar nuestro repositorio local de trabajo 
--

3. Ejecutar el comando

.full-width[.content-box-yellow[git branch]]
--

¬øC√∫antas y cu√°les son las ramas actuales en el repositorio?

---

## Creando una nueva rama

Para crear una rama en nuestro repositorio usaremos el comando:

Sintaxis:  

.full-width[.content-box-yellow[git branch [branch_name]]]

Ejemplo:  

.full-width[.content-box-yellow[$ git branch feature]]

---

## Pasando de una rama a otra

Para movernos entre las ramas usaremos el comando _git checkout_ seguido del nombre de la rama que queremos que se active.


Sintaxis:  

.full-width[.content-box-yellow[git checkout [branch_name]]]

Ejemplo:  

.full-width[.content-box-yellow[$ git checkout feature]]

Resultado:  

.full-width[.content-box-yellow[Cambiado a rama 'feature']]


---

## Pasando de una rama a otra

Para verificar que hayamos cambiado de rama podemos usar el comando _git branch_. La rama en la que estemos situados se marcar√° con un asterisco (*) y aparecer√° en un color distinto.

Ejemplo:  

.full-width[.content-box-yellow[$ git branch]]

Resultado:  

&lt;img src="img/currentBranch.png" width="200px" style="display: block; margin: auto auto auto 0;" /&gt;
---

## Pr√°ctica

1. Abrir una terminal  
--

2. Localizar nuestro repositorio local de trabajo 
--

3. Revisar el estado del repositorio. No debe haber nada pendiente por confirmar.
.full-width[.content-box-yellow[git status]]
--

4. Asegurate de estar en la rama _master/main_ y crea la rama _[tu nombre]_
.full-width[.content-box-yellow[git branch sah]]
--

6. Revisar las ramas de nuestro repositorio
.full-width[.content-box-yellow[git branch]]
--

6. Pasar de la rama _master/main_ a la rama _[tu nombre]_
.full-width[.content-box-yellow[git checkout sah]]
--

---

## Pasando de una rama a otra

Al pasar de una rama a otra Git nos cambiar√° autom√°ticamente todos los archivos de nuestro proyecto para que tengan el contenido en el que se encuentren en la rama correspondiente.


Por ahora, **las dos ramas tienen exactamente el mismo contenido**, pero ahora podr√≠amos empezar a hacer cambios en la rama _[tu nombre]_ y sus correspondientes commits; entonces los archivos de la rama _master/main_ y la rama _[tu nombre]_ tendr√°n contenido diferente, de modo que al pasar de una rama a otra habr√° cambios en los archivos.


&lt;img src="img/gitCheckout.png" width="450px" style="display: block; margin: auto;" /&gt;


Si hacemos cambios en la rama _[tu nombre]_ y usamos el comando _git show-branch_ veremos una descripci√≥n m√°s detallada de las ramas. 


---

## Pr√°ctica

1. Abrir una terminal  
--

2. Localizar nuestro repositorio local de trabajo 
--

3. Estando en la rama _[tu nombre]_ ejecuta el comando:
.full-width[.content-box-yellow[git show-branch]]
--

4. Editemos un archivo de su elecci√≥n. Recuerda usar: 
git add  
git commit -m "[mensaje]"
--

5. Revisa la descripci√≥n detallada de las ramas.
.full-width[.content-box-yellow[git show-branch]]
--

¬øNotas que el nuevo commit solo se encuentra en la rama _[tu nombre]_?


---

## Pr√°ctica

7. Pasa a la rama _master_ o _main_
.full-width[.content-box-yellow[$  git checkout master]]
--

8. Revisa el contenido del archivo editado
--


¬øEste archivo tiene los cambios que realizamos en la rama _[tu nombre]_?

---

## Fusionando ramas

A medida que creemos ramas y cambiemos el estado de las carpetas o archivos en el proyecto llegar√° el momento en el que nos interese fusionar ramas para poder incorporar el trabajo realizado a la rama __master__ o __main__.

El proceso de fusionado se conoce como __merge__. Git para procesar los merge comprueba los cambios que se han introducido al proyecto, combinando el c√≥digo de ambas ramas.

&lt;img src="img/merge.png" width="500px" style="display: block; margin: auto;" /&gt;

---

## Fusionando ramas

Para hacer un *merge* nos situamos en una rama, en este caso la __master__ o __main__, y decimos con qu√© otra rama se debe fusionar el c√≥digo.

El siguiente comando, lanzado desde la rama _master o main_, permite fusionarla con la rama _[tu nombre]_.

Sintaxis:  

.full-width[.content-box-yellow[git merge [branch_name] -m "mensaje"]]

Ejemplo:  

.full-width[.content-box-yellow[$ git merge sah -m "fusionando cambios de la rama sah a la master"]]

---

## Pr√°ctica

1. Revisar la rama en la que estamos actualmente. 
.full-width[.content-box-yellow[$ git branch]]
--

2. Si no estamos en la rama _master o main_ cambiarnos a la rama principal.
.full-width[.content-box-yellow[$ git checkout master]]
--

3. Fusiona el contenido de la rama _[tu nombre]_ con la rama _master o main_
.full-width[.content-box-yellow[$ git merge sah -m "fusionando cambios de la rama sha a la master"]]
--

4. Revisa el mensaje obtenido al hacer el merge

--

5. Revisa el contenido del archivo  

---


## Eliminando de ramas

En algunas circunstancias puede ser necesario eliminar una rama de nuestro repositorio local, por ejemplo, porque nos hayamos equivocado en el nombre al crearla. 
Para ello utilizaremos el comando __git branch__, pero agregaremos la opci√≥n __-d__ para indicar que es esa rama la que queremos eliminar.

Sintaxis:  

.full-width[.content-box-yellow[git branch -d [branch_name]]]

Ejemplo:  

.full-width[.content-box-yellow[$ git branch -d develop]]

IMPORTANTE: Puede que esta acci√≥n no nos funcione porque hayamos hecho cambios que no se hayan salvado en el repositorio remoto, o no se hayan fusionado con otras ramas. Para forzar el borrado utilizar√≠amos la opci√≥n __-D__


---

## Pr√°ctica

Eliminaremos la rama develop-# .... 

1. Revisar la rama en la que estamos actualmente  
.full-width[.content-box-yellow[$ git branch]]
--

2. Crear la etiqueta _develop-#_
.full-width[.content-box-yellow[$ git branch develop-1]]


--
3. Eliminar la rama _develop-#_ (asegurate de estar fuera de la rama)  
.full-width[.content-box-yellow[$ git branch -d develop-1]]
--

4. Revisar las ramas disponibles
.full-width[.content-box-yellow[$ git branch]]


---
## Subiendo ramas al repositorio remoto (GitHub)

Hasta este momento, las ramas que hemos creado solo pueden ser vistas en nuestro repositorio local, estas ramas no se publicar√°n en Github a menos que nosotros lo indiquemos. Para que esto ocurra tenemos que realizar espec√≠ficamente la acci√≥n de subir al repositorio remoto una rama determinada.

Sintaxis:  

.full-width[.content-box-yellow[git push -u origin [branch_name]]]

Ejemplo:  

.full-width[.content-box-yellow[$ git push -u origin docs]]


.tiny[
Nota 1: [Generaci√≥n de token personal](https://docs.github.com/es/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token)]

.tiny[
Nota 2: [Support for password authentication was removed on August 13, 2021](https://dev.to/arjuncodes/support-for-password-authentication-was-removed-on-august-13-2021-fixed-k1e)
]

---

## Eliminando ramas remotas

Si la rama que queremos eliminar est√° en el repositorio remoto tendremos que hacer un push indicando la opci√≥n --delete, seguida del nombre de la rama que se deseamos borrar.


Sintaxis:  

.full-width[.content-box-yellow[git push origin --delete [branch_name]]]

Ejemplo:  

.full-width[.content-box-yellow[$ git push origin --delete test]]

---

## Pr√°ctica

1. Crear una nueva rama llamada _test#_
.full-width[.content-box-yellow[$ git branch test1]]

--

2. Subir la rama _test#_ al repositorio remoto
.full-width[.content-box-yellow[$ git push -u origin test1]]
--

3. Borrar localmente la rama _test#_ 
.full-width[.content-box-yellow[$ git branch -d test1]]
--

4. Borrar la rama _test#_ del repositorio remoto
.full-width[.content-box-yellow[$ git push origin --delete test1]]



---

## Descargando una rama del repositorio remoto

A veces ocurre que se generan ramas en el repositorio remoto, por ejemplo, cuando han sido creadas por otros usuarios y subidas a GitHub, y necesitaremos acceder a ellas en el repositorio local para verificar los cambios o continuar el trabajo. En principio, esas ramas creadas por otros usuarios no est√°n disponibles para nosotros en local, pero las podemos descargar.

Sintaxis:  

.full-width[.content-box-yellow[git fetch]]


---

## Conclusi√≥n

Por medio del uso de ramas podremos llevar un mejor control de nuestro c√≥digo. Se trata de tener nuevos caminos mientras el c√≥digo evoluciona, en paralelo a otras ramas que se puedan generar.

- Creaci√≥n de una funcionalidad que queramos integrar en un programa
- Desarrollo de distintas funcionalidades de manera paralela
- No afectaremos la rama principal


---
---
## Flujo de trabajo  


&lt;img src="img/flujoTrabajo.png" width="750px" style="display: block; margin: auto;" /&gt;


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
  .logo {
    background-image: url(img/LCG-UNAM.png);
    background-size: contain;
    background-repeat: no-repeat;
    position: absolute;
    top: 1em;
    right: 1em;
    width: 110px;
    height: 128px;
    z-index: 0;
  }
  </style>
  
  <script>
  document
    .querySelectorAll(
      '.remark-slide-content' +
      ':not(.title-slide)' +
      // add additional classes to exclude here, e.g.
      // ':not(.inverse)' +
      ':not(.hide-logo)'
    )
    .forEach(el => {
      el.innerHTML += '<div class="logo"></div>';
    });
  </script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
